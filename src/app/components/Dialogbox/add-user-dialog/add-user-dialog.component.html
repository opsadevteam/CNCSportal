<div style="padding: 1rem">
  <h4
    mat-dialog-title
    style="border-bottom: 1px solid rgba(120, 120, 128, 0.36)"
  >
    {{ action === "Add" ? "Add User" : "Edit User" }}
  </h4>

  <form [formGroup]="userForm" (ngSubmit)="upsert()" style="margin: 1rem">
    <!-- Username Field -->
    <mat-form-field appearance="outline">
      <mat-label>Username</mat-label>
      <input matInput formControlName="username" />
      <!-- error: required -->
      @if (userForm.get('username')?.hasError('required')) {
      <mat-error> Username is required. </mat-error>
      }
      <!-- error: minlength -->
      @if (userForm.get('username')?.hasError('minlength')) {
      <mat-error> Username must be at least 3 characters. </mat-error>
      }
    </mat-form-field>

    <!-- Fullname Field -->
    <mat-form-field appearance="outline">
      <mat-label>Full Name</mat-label>
      <input matInput formControlName="fullName" />
      <!-- error: required -->
      @if (userForm.get('fullName')?.hasError('required')) {
      <mat-error> Full name is required. </mat-error>
      }
    </mat-form-field>

    <!-- Password Field -->
    <mat-form-field appearance="outline">
      <mat-label>Password</mat-label>
      <input
        matInput
        [type]="hide() ? 'password' : 'text'"
        formControlName="password"
      />
      <button mat-icon-button matSuffix (click)="clickEvent($event)">
        <mat-icon>{{ hide() ? "visibility_off" : "visibility" }}</mat-icon>
      </button>
      <!-- error: required -->
      @if (userForm.get('password')?.hasError('required')) {
      <mat-error> Password is required. </mat-error>
      <!-- error: minlength -->
      } @if (userForm.get('password')?.hasError('minlength')){
      <mat-error> Password must be at least 6 characters. </mat-error>
      }
    </mat-form-field>

    <!-- User Group Dropdown -->
    <mat-form-field appearance="outline">
      <mat-label>User Group</mat-label>
      <mat-select formControlName="userGroup">
        <mat-option value="Admin">Admin</mat-option>
        <mat-option value="Leader">Leader</mat-option>
        <mat-option value="Officer">Officer</mat-option>
      </mat-select>
      <!-- error: required -->
      @if(userForm.get('userGroup')?.hasError('required')) {
      <mat-error> User group is required. </mat-error>
      }
    </mat-form-field>

    <!-- Actions -->
    <mat-dialog-actions style="justify-content: flex-end; gap: 8px">
      <button color="primary" class="btn btn-confirm" type="submit">
        Confirm
      </button>
      <button mat-dialog-close class="btn btn-cancel">Cancel</button>
    </mat-dialog-actions>
  </form>
</div>
