<div class="container mat-elevation-z4">
  <!-- Main Content -->
  <div class="main-content">
    <header>
      <h2>Phone Records</h2>
      <p>Here is a list of all phone records</p>
    </header>

    <!-- Search and Filter Section -->
    <div class="filter-bar">
      <mat-form-field appearance="fill" class="filter-input">
        <mat-label>Search</mat-label>
        <input
          matInput
          placeholder="Search by Customer ID or Email ID"
          [(ngModel)]="searchTerm"
          (input)="filterSearch()"
        />
      </mat-form-field>

      <mat-form-field appearance="fill" class="filter-select">
        <mat-label>Filter by</mat-label>
        <mat-select>
          <mat-option value="customerId">Customer ID</mat-option>
          <mat-option value="emailId">Email ID</mat-option>
        </mat-select>
      </mat-form-field>

      <mat-form-field appearance="fill" class="filter-date">
        <mat-label>Date From</mat-label>
        <input matInput [matDatepicker]="picker1" />
        <mat-datepicker-toggle
          matSuffix
          [for]="picker1"
        ></mat-datepicker-toggle>
        <mat-datepicker #picker1></mat-datepicker>
      </mat-form-field>

      <mat-form-field appearance="fill" class="filter-date">
        <mat-label>Date To</mat-label>
        <input matInput [matDatepicker]="picker2" />
        <mat-datepicker-toggle
          matSuffix
          [for]="picker2"
        ></mat-datepicker-toggle>
        <mat-datepicker #picker2></mat-datepicker>
      </mat-form-field>

      <button mat-raised-button color="primary" (click)="filterSearch()">
        Search
      </button>
    </div>

    <!-- Data Table -->
    <table
      mat-table
      [dataSource]="dataSource"
      class="mat-elevation-z8 rounded-table"
      matSort
    >
      <!-- ID Column -->
      <ng-container matColumnDef="id">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>ID</th>
        <td mat-cell *matCellDef="let element">{{ element.id }}</td>
      </ng-container>

      <!-- Status Column -->
      <ng-container matColumnDef="status">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Status</th>
        <td
          mat-cell
          *matCellDef="let element"
          [ngClass]="'status-' + element.status.toLowerCase()"
        >
          {{ element.status }}
        </td>
      </ng-container>

      <!-- Email ID Column -->
      <ng-container matColumnDef="emailId">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Email ID</th>
        <td mat-cell *matCellDef="let element">{{ element.emailId }}</td>
      </ng-container>

      <!-- Customer ID Column -->
      <ng-container matColumnDef="customerId">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Customer ID</th>
        <td mat-cell *matCellDef="let element">{{ element.customerid }}</td>
      </ng-container>

      <!-- Customer Replied By Column -->
      <ng-container matColumnDef="repliedBy">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Replied By</th>
        <td mat-cell *matCellDef="let element">{{ element.repliedBy }}</td>
      </ng-container>

      <!-- Customer Received Date Column -->
      <ng-container matColumnDef="receivedDate">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Received Date</th>
        <td mat-cell *matCellDef="let element">{{ element.receivedDate }}</td>
      </ng-container>

      <!-- Customer Sending Date Column -->
      <ng-container matColumnDef="sendingDate">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Sending Date</th>
        <td mat-cell *matCellDef="let element">{{ element.sendingDate }}</td>
      </ng-container>
      
      <!-- Customer Vendor Column -->
      <ng-container matColumnDef="vendor">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Vendor</th>
        <td mat-cell *matCellDef="let element">{{ element.vendorCol }}</td>
      </ng-container> 
      
      <!-- Customer Description Column -->
      <ng-container matColumnDef="description">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Description</th>
        <td mat-cell *matCellDef="let element">{{ element.descriptionColumn }}</td>
      </ng-container>  
      
      <!-- Customer Date Added Column -->
      <ng-container matColumnDef="dateAdded">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Date Added</th>
        <td mat-cell *matCellDef="let element">{{ element.dateAdded }}</td>
      </ng-container> 
      
      <!-- Customer Action  Column -->
      <ng-container matColumnDef="actionColumn">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Action</th>
        <td mat-cell *matCellDef="let element">{{ element.actionCell }}</td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>

    <!-- Pagination -->
    <mat-paginator
      [pageSize]="pageSize"
      [length]="records.length"
      showFirstLastButtons
    >
    </mat-paginator>
  </div>
</div>
